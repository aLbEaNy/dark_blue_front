<div class="min-h-screen w-full bg-principal flex flex-col justify-center items-center text-center">

  <div
    class="bg-[#1a1a1a] p-6 sm:mt-8 md:mt-0 sm:mb-8 md:mb-0 rounded-lg shadow-black shadow-lg w-full max-w-xs sm:max-w-md">

    <h2 class="text-white text-2xl font-semibold mb-6 sm:mb-0 md:mb-6">Iniciar Sesión</h2>

    <!-- Formulario -->
    <div class="flex flex-col gap-4">

      <!-- Correo -->
      <div>
        <label for="email" class="block text-sm text-gray-300 text-left mb-1 text-shadow-black text-shadow-sm">Correo
          electrónico</label>
        <input type="email" id="email" mame="email" [value]="email()" (input)="email.set($any($event.target).value)"
          (blur)="emailTouched.set(true)" placeholder="ejemplo@correo.com"
          class="w-full px-4 py-2 rounded-md bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 border-1 border-gray-900" />
      </div>
      <!-- Mostrar errores de email -->
      @if (emailError()) {
      <small class="text-red-500 text-left ms-4">{{ emailError() }}</small>
      }

      <!-- Contraseña -->
      <div>
        <label for="password" class="block text-sm text-gray-300 text-left mb-1">Contraseña</label>
        <div class="relative">
          <input [type]="showPassword() ? 'text' : 'password'" id="password" [value]="password()"
            (input)="password.set($any($event.target).value)" (blur)="passwordTouched.set(true)" placeholder="••••••••"
            class="w-full px-4 py-2 rounded-md bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 border-1 border-gray-900" />
          <i (click)="showPassword.set(!showPassword())" class="absolute top-2 right-3 cursor-pointer">

            @if(showPassword()){
            <svg xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5 text-gray-300 transition-colors duration-300 hover:text-red-500" fill="none"
              viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
              <path stroke-linecap="round" stroke-linejoin="round"
                d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
            </svg>

            } @else{

            <svg xmlns="http://www.w3.org/2000/svg"
              class="w-5 h-5 text-gray-300 transition-colors duration-300 hover:text-red-500" fill="none"
              viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M13.875 18.825A10.05 10.05 0 0112 19c-4.477 0-8.268-2.943-9.542-7a9.957 9.957 0 012.182-3.284M6.1 6.1A9.978 9.978 0 0112 5c4.478 0 8.268 2.943 9.542 7a9.955 9.955 0 01-4.293 5.036M6.1 6.1l12.02 12.02" />
            </svg>
            }
          </i>
        </div>
      </div>
      <!-- Mostrar errores de contraseña -->
      @if (passwordErrors() && passwordErrors()!.length > 0) {
      @for (error of passwordErrors(); track error) {
      <small class="text-red-500 text-left ms-4 block">{{ error }}</small>
      }
      }
      <!-- ¿Olvidaste tu contraseña? -->
      <div class="text-right text-sm">
        <p (click)="openModal()" class="text-red-400 cursor-pointer hover:text-red-300">¿Olvidaste tu contraseña?</p>
      </div>

       <!-- Modal -->
       @if(showModal){
         <app-forgot-password-modal
           (close)="closeModal()"
         ></app-forgot-password-modal>
       }
       
      <!-- Botón de login -->
      <button (click)="handleSubmit()" [disabled]="disableSubmitButton()"
        class="bg-red-500 hover:bg-red-600 opacity-100 cursor-pointer disabled:opacity-50 disabled:cursor-none disabled:hover:bg-red-500 px-4
               text-white py-2 rounded-md font-medium transition shadow-black shadow-lg border-1 border-gray-900">
        Iniciar Sesión
      </button>
    </div>

    <!-- Separador -->
    <div class="my-6 border-t border-gray-700 relative">
      <span class="absolute -top-3 left-1/2 -translate-x-1/2 bg-[#1a1a1a] px-2 text-gray-400 text-sm">o</span>
    </div>

    <!-- Login con Google -->

    <button (click)="loginWithGoogle()" id="google-custom-button"
      class="w-full bg-white text-gray-700 py-2 rounded-md font-medium transition flex items-center justify-center space-x-2 hover:cursor-pointer border-1 border-gray-900 shadow-black shadow-lg">
      <img src="https://www.svgrepo.com/show/355037/google.svg" alt="Google logo" class="h-5 w-5" />
      <span>Iniciar sesión con Google</span>
    </button>


    <!-- Registro -->
    <p class="text-gray-400 mt-6 text-sm">
      ¿No tienes una cuenta?
      <a routerLink="/registro" class="text-white font-semibold hover:underline">Regístrate</a>
    <div class="flex items-center mt-12">

      <img src="images/logoDarkBlueLetras2.png" alt="logoDarkBlue" class="w-18 ms-2" routerLink="/"> <span
        class="text-acero text-sm ms-auto me-2" routerLink="/">aLbEaNy SOFTWARE © 2025 </span>
    </div>